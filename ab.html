<!DOCTYPE html>
<html>

<HEAD>
    <TITLE>3d.felixjungo.ch</TITLE>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <link rel="stylesheet" href="style.css">
</HEAD>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<style>

</style>

<script>
    const queryString = window.location.search;
    console.log(queryString);
    const urlParams = new URLSearchParams(queryString);
    let objectNmbr = urlParams.get('o');
    let object = "";
    switch (objectNmbr) {
        case "21":
            console.log(objectNmbr);
            object = "marmor_hocker_francesca";
            console.log(object);
            break;
        case "22":
            console.log(objectNmbr);
            object = "KC_Vase_1";
            console.log(object);
            break;
        case "23":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "24":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "1":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "2":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "3":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "4":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "5":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "6":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "7":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "8":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "9":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "10":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "11":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "12":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "13":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "14":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "15":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
        case "16":
            console.log(objectNmbr);
            object = "";
            console.log(object);
            break;
    }

    function fakeLoader() {

        $("#fullON").append("<div id='loadingDiv' class='loading'><progress class='pure-material-progress-circular' /></div>")
        var myTimer = setInterval(checkFocus, 300);

        setInterval(() => {
            $("#loadingDiv").remove();
            clearInterval(myTimer);
        }, 4000);

        function checkFocus() {
            if (document.hasFocus()) {
                console.log("hasfocus");
            }
            else {
                console.log("has no focus");
                $("#loadingDiv").remove();
                clearInterval(myTimer);
            }
        }
    };



    $(document).ready(function () {
        console.log("ready!");
        if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
            // true for mobile device
            console.log("iphone:" + navigator.userAgent);
            $("#androidAR").empty();
            //iphone version:
            var iosLink = document.createElement("a");
            iosLink.type = "text/css";
            iosLink.rel = "ar";
            iosLink.id = "iosLink"
            iosLink.href = "assets/" + object + ".usdz";
            iosLink.innerHTML = '<img src="assets/' + object + '.jpg">';

            iosLink.src = "theDir/theFile.css";         // should immediately start to load.
            $("#fullON").append(iosLink);

            var a = document.getElementById("iosLink")
            a.onclick = function () {
                console.log("now");
                fakeLoader();
            }

            //$("#fullON").empty();


        } else if (/Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            // true for mobile device
            console.log("android:" + navigator.userAgent);

            $("#fullON").append('<model-viewer src="assets/vase_e_2.glb" poster="assets/' + object + '.jpg" ar ar-modes="webxr scene-viewer" reveal = "interaction" environment - image="neutral" camera-controls ><button slot="ar-button" id="ar-button"><img src="' + object + '.jpg">Click Tab Touch Click Tab Touch</button></model - viewer > ')


        } else {



            // false for not mobile device
            console.log("desktop:" + navigator.userAgent);
            $("#androidAR").empty();
        }
    });


</script>

<body>

    <div id="fullON" class="fullOn">
    </div>


</body>

</html>